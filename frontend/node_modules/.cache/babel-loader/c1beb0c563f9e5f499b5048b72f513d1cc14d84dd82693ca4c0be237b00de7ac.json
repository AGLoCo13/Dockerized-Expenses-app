{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'bootstrap/dist/css/bootstrap.min.css';import'../css/consumptionHistory.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ConsumptionHistory(_ref){let{apartmentId,refresh}=_ref;const[consumptions,setConsumptions]=useState([]);const[loading,setLoading]=useState(true);const months=[{value:1,label:'January'},{value:2,label:'February'},{value:3,label:'March'},{value:4,label:'April'},{value:5,label:'May'},{value:6,label:'June'},{value:7,label:'July'},{value:8,label:'August'},{value:9,label:'September'},{value:10,label:'October'},{value:11,label:'November'},{value:12,label:'December'}];useEffect(()=>{const fetchConsumptions=async()=>{try{const response=await axios.get(\"/api/consumptions/\".concat(apartmentId));setConsumptions(response.data);console.log(response.data);setLoading(false);}catch(error){console.error(error);setLoading(false);}};fetchConsumptions();},[apartmentId,refresh]);if(loading){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});}if(consumptions.length===0){return/*#__PURE__*/_jsx(\"p\",{children:\" No consumption data available.\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"consumption-history\",children:[\"History...\",/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Apartment\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Month\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Year\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Consumption\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:consumptions.map(consumption=>{var _months$find;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:consumption.apartment.name}),/*#__PURE__*/_jsx(\"td\",{children:((_months$find=months.find(month=>month.value===consumption.month))===null||_months$find===void 0?void 0:_months$find.label)||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:consumption.year}),/*#__PURE__*/_jsx(\"td\",{children:consumption.consumption})]},consumption._id);})})]})]});}export default ConsumptionHistory;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","ConsumptionHistory","_ref","apartmentId","refresh","consumptions","setConsumptions","loading","setLoading","months","value","label","fetchConsumptions","response","get","concat","data","console","log","error","children","length","className","scope","map","consumption","_months$find","apartment","name","find","month","year","_id"],"sources":["/home/tonyg/Node-React.js-Expenses-Application/frontend/src/components/ConsumptionHistory.js"],"sourcesContent":["import React , {useState , useEffect} from 'react'\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../css/consumptionHistory.css'\n\nfunction ConsumptionHistory({apartmentId , refresh}) {\n  const [consumptions , setConsumptions] = useState([]);\n  const [loading , setLoading] = useState(true);\n  const months = [\n    {value: 1, label: 'January'},\n    {value:2 , label: 'February'},\n    {value:3 , label: 'March'},\n    {value:4 , label: 'April'},\n    {value:5 , label: 'May'},\n    {value:6 , label: 'June'},\n    {value:7 , label: 'July'},\n    {value:8 , label: 'August'},\n    {value:9 , label: 'September'},\n    {value:10, label: 'October'},\n    {value:11, label: 'November'},\n    {value:12, label: 'December'}\n  ];\n  useEffect(() => {\n    const fetchConsumptions = async() => {\n        try {\n            const response = await axios.get(`/api/consumptions/${apartmentId}`);\n            setConsumptions(response.data);\n            console.log(response.data);\n            setLoading(false);\n\n        }catch(error) {\n            console.error(error);\n            setLoading(false);\n        }\n        };\n        fetchConsumptions();\n    }, [apartmentId , refresh]);\n    \n    if(loading) {\n        return <p>Loading...</p>;\n    }\n\n    if (consumptions.length === 0) {\n        return <p> No consumption data available.</p>\n    }\n\n  return (\n    <div className='consumption-history'>\n        History...\n      <table className='table table-striped'>\n        <thead>\n            <tr>\n                <th scope='col'>Apartment</th>\n                <th scope=\"col\">Month</th>\n                <th scope=\"col\">Year</th>\n                <th scope=\"col\">Consumption</th>\n            </tr>\n        </thead>\n        <tbody>\n            {consumptions.map((consumption) => (\n                <tr key={consumption._id}>\n                    <td>{consumption.apartment.name}</td>\n                    <td>{months.find(month => month.value === consumption.month)?.label || 'N/A'}</td>\n                    <td>{consumption.year}</td>\n                    <td>{consumption.consumption}</td>\n                </tr>\n            ))}\n        </tbody>\n      </table>\n    </div>\n  )\n}\n\nexport default ConsumptionHistory\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}